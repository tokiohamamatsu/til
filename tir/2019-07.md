# 2019-07

## 12

### [DockerHubで公開されているコンテナが安全か確かめてみた結果【人気のコンテナ上位800個】 \- Qiita](https://qiita.com/tomoyamachi/items/e0e69da521505e73237b)

- DockerHubの操作方法
- データの作り方
- 脆弱性対策

脆弱性対策はどうすればいいのか?

### [【PHP】公式リファレンスをすんなり読るようになれば、一気に学習が進む説【初心者】 \- Qiita](https://qiita.com/Alto11233/items/25d82956ef7c6be55f9c)

- 公式リファレンスが使いずらい
- 読むために語彙力を伸ばす

>公式リファレンスでも小難しいwikipediaでも中身が解らない理由はただ１つ。 語彙力が無いからだ。 書いてある言葉をちゃんと理解できているのなら、そもそも理解できるのであれば問題になることはない。
>[【PHP】公式リファレンスをすんなり読るようになれば、一気に学習が進む説【初心者】 - Qiita](https://qiita.com/Alto11233/items/25d82956ef7c6be55f9c)


語彙力を伸ばさないといけないと思った

### [UdemyのPHP\+MySQL\(Byたにぐちまこと\)をまとめてみた \- Qiita](https://qiita.com/koba_onrails/items/02bc4a0e7bb489d18b28)

- phpの基本
- データベースの基本
- phpとmysqlを組み合わせる

joinの仕組みが分からない

### [\[Laravel\]\[Homestead\] Seederを使ってテストデータを作成してみる \- Qiita](https://qiita.com/mikansei-lab/items/01beb1b2fa6c9e5436ed)

- Seederの説明
- seederの使い方

>Seederを使うに当たって、テーブル名を複数形で定義した方が都合が良い。 例えば、テーブル名hoges、レコードhogeのようなイメージ。
>[[Laravel][Homestead] Seederを使ってテストデータを作成してみる - Qiita](https://qiita.com/mikansei-lab/items/01beb1b2fa6c9e5436ed)

実際に触ってみないとよくわからない

## 16

### [Unityの状態管理フレームワークを作ってみた \- Qiita](https://qiita.com/uzimaru0000/items/0eea0305320540281a73)

- UniTEAを作った経緯
- UniTEAの使い方
- 詳細

ラップとはどういう意味なのか？

ラップとは

機能を隠蔽することやもともとの機能を変えないで使いやすくすることができる

### [Laravelでデータベースから検索した値をペジネーションを使って表示させる \- Qiita](https://qiita.com/mukae_tech/items/3c779b229b0d3e673f79)

- ルーティングの設定
- コントローラの作成
- モデルの設定
- View

似ているけど違うやり方だった

[til/ページングの実装\.md at master · tokiohamamatsu/til](https://github.com/tokiohamamatsu/til/blob/master/laravel/%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%E3%81%AE%E5%AE%9F%E8%A3%85.md)と比べた

perpage()がなかったのとView内で直接Getパラメータを指定していること

### [laravelのルーティングは間違っていないのに違うメソッドが呼ばれてしまう時の対処 \- Qiita](https://qiita.com/monji05/items/e0d75187f2b814981c47)

- エラーの時の設定
- エラーの内容
- 解決

>どうみても間違いが見つからないときはキャッシュクリアしてみよう。
>[laravelのルーティングは間違っていないのに違うメソッドが呼ばれてしまう時の対処 - Qiita](https://qiita.com/monji05/items/e0d75187f2b814981c47)

キャッシュとは具体的に何なのか？

キャッシュとは

一度使用したデータを再利用するためにメモリー内にデータをためること

- `php artisan cache:clear`
- `php artisan config:clear`
- `php artisan route:clear`
- `php artisan view:clear`
を実行しキャッシュを消す

### [少数のあれこれ【備忘】 \- Qiita](https://qiita.com/tatsuo-iriyama/items/173c8b83fd117e365cec)

- 少数の桁数を取得
- 少数を指定桁数だけ丸める
- 少数の整数部と小数部を取得する

>末尾に0\.5を足す事で、繰り上げ・下げをせず 元々の値から指定した桁数だけ切り捨てて返す
>[少数のあれこれ【備忘】 - Qiita](https://qiita.com/tatsuo-iriyama/items/173c8b83fd117e365cec)

忘れやすい小技

## 17

### [【Rails】1時間ぐらいでLINEのBot開発をしよう\-アンケート集計Bot基礎\-【画像付き】 \- Qiita](https://qiita.com/noriya1217/items/00d6461e9f54900377a3)

- Channelの作成
- Botの開発
- デプロイする

デプロイとはどういう意味か

デプロイとは

システムを利用可能状態すること


### [Laravelのマイグレーション履歴をリセットして、全テーブルを作り直す手順 \- Qiita](https://qiita.com/hdmt/items/499a06353b4624e3a686)

- やり方
  
使うことがないようにしたい

### [LaravelとVue\(axios\)でVue\-infinite\-loadingで無限ローディングを実装する \- Qiita](https://qiita.com/namizatop/items/572ee1d86cea080eb0fd)

- 事前準備
- laravelの設定
- vueの設定

vueとはなにか？

vueとは

javascriptのフレームワーク

## 18

### [C\#の全プロジェクトに便利な設定を一括反映する \- Qiita](https://qiita.com/kojimadev/items/45b4c8e002c226cc1c36)

- Directory.Build.propsというファイルを作成しslnファイルと同じフォルダに入れる
- Directory.Build.propsの内容は入れたフォルダ以下のすべてのプロジェクトファイルに反映される

C# 8.0を利用するのに設定する必要があるんだ

### [MySQLのテーブルの更新履歴を履歴テーブルに残す方法 \- Qiita](https://qiita.com/jacksuzuki/items/1c5265f43474c1ba01ad)

- 履歴を残したいテーブルに似たログテーブルを生成
- ログテーブルに解析ようのカラムを追加
- トリガーの設定
  
トリガーでなにができるのか？

トリガーとは

トリガーは特定のテーブルに対する操作を契機に自動的に処理を実行する

履歴の保存やアプリケーションロジック、データ移行や集計ができる

### [Laravelでのマルチ認証でログイン後のリダイレクト先をroleで変更する方法 \- Qiita](https://qiita.com/nagomi2/items/cf4a0d5e11b4e8393baa)

- 認証に使うテーブルにRoleを追加
- Auth/LoginController.phpのredirectTo()にリダイレクト先を設定する

同じことをやっている

### [Vuejs超入門 \- Qiita](https://qiita.com/tabtt3/items/dfd9a12734ee4e29eff1)

- プロフェクトの生成
- Viewをいじる
- ルートを設定

ほしい情報ではなかった

### [LaravelからVue\.jsを使う最短レシピ \- Qiita](https://qiita.com/fruitriin/items/e0f2c9aa035c3ff2c874)

- npmをインストールする
- app.jsは最後に読み込む
- laravelの変数をvueに渡す方法

この情報がほしかった

## 19

### [ベータ版が公開されたGuildHubを使って仮説キャンバスを作ってみる \- Qiita](https://qiita.com/navitime_tech/items/2cb0d674c8d3a5f8a6a6)

- GuildHubの説明
- GuildHubの使い方

仮説キャンバスは使いやすいのだろうか？

### [Laravel 5\.8 CRUD \- Qiita](https://qiita.com/morohoshi/items/7f2d7d96b7f0c146b4f4)

- 今までやってきたことと同じ

更新処理にfill()を使わないのか

属性を直に埋めている


[【Laravel】DBにデータを保存する方法。createとinsertの違いなど \- Qiita](https://qiita.com/katsunory/items/87a73297f44a65f1474f#3-%E5%B1%9E%E6%80%A7%E3%82%92%E7%9B%B4%E5%9F%8B%E3%82%81--save%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89)

### [Laravelにイベントディスカバリーが実装されたので試してみる \- Qiita](https://qiita.com/niisan-tokyo/items/95338bc8e7a3353d7b9b)

- イベントの作り方
- イベントディスカバリの説明
- イベントディスカバリを有効にする
- handleにイベントの処理を記述する

[イベント 5\.8 Laravel](https://readouble.com/laravel/5.8/ja/events.html)

laravelにイベントがあるのを知らなかった

## 22

### [JavaScriptで\[ 0, 1, 2, 3, 4 \]のような連番の配列を生成する方法 \- Qiita](https://qiita.com/suin/items/1b39ce57dd660f12f34b)

- spread operatorとarrow functionを使う
- Array(5)でスロットが5つある配列を作る
- spread operatorにかけて、undefined5つの配列に変形させる
- mapメソッドでundefinedをインデックス番号にする

spread operatorとmapメソッドとは何か

spread operatorとは

スプレッド演算子のことで`...変数`の形で記述され、配列やオブジェクトの要素を展開するのに使う

[JSのスプレッド演算子を理解する \- Qiita](https://qiita.com/akisx/items/682a4283c13fe336c547)

mapメソッドとは

与えられた関数を配列のすべての要素を呼び出し、その結果から新しい配列を作成する

[Array\.prototype\.map\(\) \- JavaScript \| MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/map)

### [【Laravel5】認識機能を実装した際に追加される「Auth::routes\(\)」にオプションを指定してカスタマイズする \- Qiita](https://qiita.com/sola-msr/items/c966b30bce888ce77546)

- Auth::routesにオプションで引数をbolleanで渡すとルーティングの
設定を切り替える
- デフォルトで登録機能とパスワードリマインダーは有効になっており、メール確認機能は無効になっている

メール確認機能があるのを知らなかった

### [phpで''と""の使い分け \- Qiita](https://qiita.com/haselatte/items/7673d86ec3536d383552)

- ''は単なる文字列でエスケープ処理されない
- ""は変数が展開されエスケープ処理もされる
  
#### エスケープ処理とは？

エスケープ処理とは特別な文字や記号をエスケープシーケンスに変換すること

|エスケープシーケンス|例|
|---|---|
|\n|改行|
|\r|キャリッジリターン<br>通常は`\r\n`で使用する|
|\t|タブ|

#### 変数展開例

''で囲んだものは変数が展開されず、""で囲んだこのは変数が展開されて改行され、表示される

**シングルクオート`'`の場合**
```php

$var = "hoge\nhoge";
echo '$var';

```
出力結果

`$var`


**ダブルクオート`"`の場合**

```php
$var = "hoge\nhoge";
echo "$var";

```
出力結果
`hoge`
`hoge`

## 23

### [【MySQL】 そうだ インデックス、使おう。 \- Qiita](https://qiita.com/hk206/items/4cce4293801250a1ba94)

- インデックスとは特定のカラムを素早く見つけるためのもので、インデックスがなければMySQLは先頭行からテーブル全体を読み取る必要がある
- インデックスの作成コマンドは`ALTER TABLE テーブル名 ADD INDEX インデックス名(カラム名)`、削除コマンドは`ALTER TABLE テーブル名 DROP INDEX インデックス名`
- インデックスが適用されない場合
  - LIKEが%で始まる場合
  - ＤＢ全体を読み込んだほうが早いとMySQLが判断した場合 

インデックスはテーブルを生成するのか

### [びっくりしたPHPコード \- Qiita](https://qiita.com/OKCH3COOH/items/02d1988b3e1c22c1bcc1)

- 文字列を${{}}で囲むとその文字列の変数を扱える
- 論理演算子を用いればif文や三項演算子を省略でき、||の場合はTrueと評価される場所まで実行され、&&の場合はFalseと評価される場所まで実行される
- listを用いるとPythonのタプルリターンのようなことができる

Pythonとは何か?

Pythonとは

プログラム言語の一種であり｛｝ではなくインデントで深さをきめる

タプルリターンとは

複数の戻り値をreturnできる

## 24

### [【Web開発】ブラウザさえあれば使える無料オンラインエディター紹介・比較 2019 \- Qiita](https://qiita.com/righteous/items/9520164abae2b1140491)

- CodeSandbox
  - メジャーなフレームワークのテンプレートが用意されており、Visual Studio Codeと操作性が似ている。ただし拡張機能は使えない
- StackBlitz
  - CodeSanboxと比較して大きな違いはないが、対応しているフレームワークは少なめ、無料アカウントでも無制限にプロジェクトを作れる
- Glitch
  - プロジェクトごとにサーバーが用意されターミナルでアクセスでき、作成したアプリケーションはそのままサイトして公開できる、しかしサーバはアクセスがないと自動的にスリープする
- JSFiddle
    - Vue,Reactなどのテンプレートが用意されている
    - Jsの実行場所を指定できる
    - Tabキーを押してもSpaceに変換されない
- CodeRen
  - Markdownが使用できる

JSFiddleとCodeRenはHTMLとJs,cssを手軽にシェアすることができるがそれぞれ1つのファイルしか書けない

オンラインエディターのこんなものがあるんだ

### [jQueryとAjaxとLaravelでページネーションを実装する \- Qiita](https://qiita.com/pappikko/items/0116f5a0eded9bf5bff1)

- `php artisan vendor:publish --tag=laraveel-pagination`を実行しファイルを作成する
- AppServiceProvider.phpに登録する
- Ajaxの処理を実装する
  
```javascript
$('body').on('click', 'button.page-link', function () {
    let url = $(this).attr('href');
    $.get(url)
    .done(function (response) {
        $('#list_wrap').html('');
        $('#list_wrap').html(response);
    })
    .fail(function (e) {
        alert('データの取得に失敗しました。');
    })
})
```

このコマンドは実行してなかったな

## 25

### [LaravelのControllerで生成・加工したデータをVue\.jsのテンプレートファイルで利用する方法 \- Qiita](https://qiita.com/maejima_f/items/96ee60bc9e71ed19c7cb)

- 今やっていることと同じ

[til/laravelからvueにデータを渡す](https://github.com/tokiohamamatsu/til/blob/master/laravel/laravel%E3%81%8B%E3%82%89vue%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%B8%A1%E3%81%99.md#laravel%E3%81%8B%E3%82%89%E9%85%8D%E5%88%97%E3%82%92vue%E3%81%AB%E6%B8%A1%E3%81%97%E3%81%9F%E3%81%84)とやっていることが同じ

### [Laravelで、Namespace declaration statement has to be the very first statement or after any declare call in the scriptってエラーが出た時の対策 \- Qiita](https://qiita.com/A-Kouki/items/cc5dd20e6d4d2723f9d8)

- エラー内容
    - namespaceの上に何も書くな
    - `<?php`の上に何も書くな
- 改行でもエラーになる

改行が入ってたらエラーになるのか

## 26

### [html5 で導入された button タグに付けれる formaction と formtarget 属性 を用いてプレビューを実現する \- Qiita](https://qiita.com/yamotuki/items/e394bcc38614c091c7fd)

- buttonタグにformactionを使用するボタンごとに別々の送信先を指定できる
```html
 <form class="form-horizontal" method="POST">
    <button type="submit"
        formaction="http://fugafuga/preview"
        // これを設定するとブラウザの別タブで開くので、よりプレビューっぽい
        formtarget="_blank">プレビュー
    </button>
    <button type="submit"
        // 上とは違う保存用のURL
        formaction="http://fugafuga/">
        今すぐ更新
    </button>
</form>

```

- methodもactionmethodを使って個別に設定できる

buttonタグで送信先をしていできるとは

### [PHP trueになるもの・falseになるもの確認　falseを入れた配列はどっちに？ \- Qiita](https://qiita.com/minato-naka/items/50645a45998e91c83e2b)

- phpは暗黙的な型変換が行われる
- bool型以外の変数でfalseになるもの
    - stringの空文字
    - stringの0
    - intの0
    - floatの0
    - 要素が0個のarray
    - null
- 上記以外はtrueになる

intのマイナスもboolに変換するとtrueになるのか

``` php
$intNegative = -1;
var_dump((bool)$intNegative);
// bool(true)
```

### [【javascript】配列と文字列の変換 \- Qiita](https://qiita.com/kazu56/items/4246d491fa434e37c944)

- 配列から文字列にする
```
ary = ['Spring','Summer','Fall','Winter'];
str = ary.join(',');
console.log(str);
//=>Spring,Summer,Fall,Winter
```
- 文字列から配列にする
```
str = 'Spring,Summer,Fall,Winter';
ary = str.split(',');
console.log(ary);
//=>["Spring", "Summer", "Fall", "Winter"] 
```

vueのpropsの値に使ったがダメだった

### [JavaScript jsonと文字列の相互変換をする方法](https://zukucode.com/2017/05/javascript-json-string.html)

- オブジェクトから、文字列
`var str = JSON.stringify(obj);`
- 文字列からオブジェクト
`var obj = JSON.parse(str);`

こちらもpropsに使ったがダメだった

## 29

### [array\_valuesとunsetで配列の特定の値を削除してつめる \- Qiita](https://qiita.com/araoara/items/b4b85298b5b4a036f411)

- array_valuesは配列のすべての値を返す
- unsetで削除しarray_valuesを使うと消された所が詰められる

```php
$card = ["A","2","3","4"];
unset($card[1]); //配列の要素を削除すると array(3){[0]=>"A" [2]=>"3" [3]=>"4"} となる

$card = array_values($card); //配列をつめる
var_dump($card);             //array(3){[0]=>"A" [1]=>"3" [2]=>"4"} となる
```

※array_valuesの変わりにarray_merge出も可能

array_valuesにこんな使い方があるとは

### [JSの参照渡しのような、値渡し。PHPの参照渡し、値渡し。 \- Qiita](https://qiita.com/yoshinyan/items/44c01dec3a80c1bcf27c)

- jsは値渡ししかできない
>オブジェクトを代入した変数にはオブジェクトの参照値が保持されていて、保持している値＝オブジェクトの参照値 を渡すので、あくまで値渡しなのです。
>[JSの参照渡しのような、値渡し。PHPの参照渡し、値渡し。 - Qiita](https://qiita.com/yoshinyan/items/44c01dec3a80c1bcf27c)
- phpは通常、値渡しだが変数に&をつけると参照渡し

```js
> function sub(data) {
...     data = { a: 456 }
... }
undefined
> x = { a: 123 }
{ a: 123 }
> sub(x)
undefined
> x
{ a: 123 }
```

```php
<?php 
  function sub(&$data) {
     $data = array( "a" => 456 );
 }
 $x = array( "a" => 123 );
 sub($x);
var_dump($x);
?>
```
結果
```
array(1) {
  ["a"]=>
  int(456)
}
```

参照渡しは変えたくないものに使うのか

参照渡しと値渡しは明日調べる

## 30

### [PHP 参照渡しまとめ \- Qiita](https://qiita.com/A-Kira/items/749de2c83dfd07feb3b3)

- 値渡しは、変数に代入した値のコピーを渡す
- 参照渡しは、変数を代入した値の参照先を渡す

**値渡し**

```php
$a = 2;
$b = $a;  // 変数aを代入
$a = 10;  // 変数aの値を変更
echo $b;

# 結果
2
```

**参照渡し**

```php
$a = 2;
$b =& $a;  // 変数aを&をつけて代入
$a = 10;    // 変数aの値を変更
echo $b;

# 結果
10
```

- 配列も同様に扱える
- オブジェクトは元々参照型だから&はいらない、参照したくない場合は`clone`（複製）を使う

**参照渡し**

```php
$a = new stdClass();
$a->property = 1;
$b = $a;　             // オブジェクトを代入
$a->property = 3;    // オブジェクトaを変更

var_dump($b);

# 結果
stdClass Object
(
    [property] => 3
)
```

**値渡し**

```php
$a = new stdClass();
$a->property = 1;
$b = clone $a;　      // cloneをつけて代入
$a->property = 3;    // オブジェクトaを変更

var_dump($b);

# 結果
stdClass Object
(
    [property] => 1
)
```

- 参照渡しを関数で使うこともできる

オブジェクトは参照型なんだ

## 31

### [VagrantでVScodeのRemote Developmentを使おう！ \- Qiita](https://qiita.com/hppRC/items/9a46fdb4af792a454921)

- vagrantを動かすディレクトリに移動し`vagrant ssh-config`を実行しssh接続する際の設定を吐き出す

```php
Host homestead
  HostName 127.0.0.1
  User vagrant
  Port [port.No]
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  PasswordAuthentication no
  IdentityFile /Users/[username]/Homestead/.vagrant/machines/homestead/virtualbox/private_key
  IdentitiesOnly yes
  LogLevel FATAL
  ForwardAgent yes
```

- vagrantすでにリモート側にssh接続する準備が整っている
- `vagrant ssh-config >> ~/.ssh/config`でホストのssh接続に関するconfigに設定を下記込む

vagrantとは

仮想環境を構築・管理し配布することができるツール

コマンドで設定ファイルに記述できるんだ

### [Docker前提のLaravelログ設定 \- Qiita](https://qiita.com/mame_daifuku/items/6de1314e1ade3d15658f)

- laravelのログシステムの設定はconfig/logging.phpを使う

logging.php

```php
<?php

use Monolog\\Handler\\StreamHandler;

return [
    // デフォルトでstackチャンネルを使用
    'default' => env('LOG_CHANNEL', 'stack'),  

    'channels' => [
        'stack' => [
            'driver' => 'stack',
            'channels' => ['stdout'], // stdoutチャンネルを使用
      ],

        'stdout' => [
            'driver' => 'monolog',
            'handler' => StreamHandler::class,
            'with' => [
                'stream' => 'php://stdout',
            ],
            'level' => 'debug',
      ],

        'single' => [
            'driver' => 'single',
            'path' => storage_path('logs/laravel.log'),
            'level' => 'debug',
        ],

        'daily' => [
            'driver' => 'daily',
            'path' => storage_path('logs/laravel.log'),
            'level' => 'debug',
            'days' => 7,
        ],

        'slack' => [
            'driver' => 'slack',
            'url' => env('LOG_SLACK_WEBHOOK_URL'),
            'username' => 'Laravel Log',
            'emoji' => ':boom:',
            'level' => 'critical',
        ],

        'stderr' => [
            'driver' => 'monolog',
            'handler' => StreamHandler::class,
            'with' => [
                'stream' => 'php://stderr',
            ],
        ],

        'syslog' => [
            'driver' => 'syslog',
            'level' => 'debug',
        ],

        'errorlog' => [
            'driver' => 'errorlog',
            'level' => 'debug',
        ],
]
```
- ログには重要度で分類されているレベルがある
    - emergency
    - alert
    - critical
    - error
    - warning
    - notice
    - info
    - debug

上から高レベル

ログはloggingで設定できるんだ

### [関数・引数その１（PHP） \- Qiita](https://qiita.com/yamakei/items/ef2a91f0d9b08d5ae368)

- ユーザー定義関数はユーザーが作成する関数
- 組込関数はphpで予め定義されている関数
- 関数定義のパターン
    - 引数があり、戻り値がある
    - 引数がなく、戻り値がある
    - 引数があり、戻り値がある
    - 引数がなく、戻り値がない

引数があり、戻り値がある

```php
<?php
function patissier($x){
    $result = 2 * $x; //引数に設定された変数xの値を２倍にし、変数resultに格納せよ。
    return $result;　　//変数resultの値を返す
}
//↑ここまでが関数の定義

//呼び出し方法
$result = patissier(20);　//上で定義した関数を呼び出す。20という値を変数xに渡す。上の処理が実行される。
echo $result;　//変数resultに40が表示される。

?>
```

引数がなく、戻り値がある

```php
function patissier(){
    $x = 10;
    $result = 2 * $x;
    return $result;
}

//呼び出し方法
$result = kansu();
echo $result;
```

引数があり、戻り値がある

```php
function patissier($x){
     $result = 2 * $x;
     echo $result;
}

//呼び出し方法
patissier(10);
```

引数がなく、戻り値がない

```php
function patissier(){
      $x = 10;
      $result = 2 * $x;
     echo $result;
}

//呼び出し方法
patissier();
```

引数がなく、戻り値がない場合はいつ使うのか

