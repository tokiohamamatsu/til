# 2020-08

## 03

### [【JavaScript】レスポンシブな条件分岐にはwindow\.matchMediaを使う \- Qiita](https://qiita.com/flat-ito/items/44d6526a720201aecca4)

window.matchMediaは指定されたメディアクエリ文字列のパース結果を表し、MediaQueryListを作成する

[window\.matchMedia \- Web API \| MDN](https://developer.mozilla.org/ja/docs/Web/API/Window/matchMedia)

※パースは解析のこと

メディアクエリから、メディアの幅と高さ、色数などがわかる

[メディアクエリ \- 開発者ガイド \| MDN](https://developer.mozilla.org/ja/docs/Web/Guide/CSS/Media_queries)

例

デバイスの幅の大きさで処理を分岐する

```js
const matchMedia = window.matchMedia('(max-width:1000px)');

if (matchMedia.matches) {
  // 1000px以下で行う処理
} else {
  // 1001px以上で行う処理
}
```

デバイス幅を通過した時の処理

```js
const matchMedia = window.matchMedia('(max-width:1000px)');

// 1000px通過時にmyFuncを実行する
matchMedia.addListener(myFunc);
```

'addListener'はMediaQueryListのメソッドの一つでMediaQueryListにコールバックを追加する。コールバックはリスト内のメディアクエリと文書が一致しない場合、呼び出される。

[MediaQueryList \- Web API \| MDN](https://developer.mozilla.org/ja/docs/Web/API/MediaQueryList)