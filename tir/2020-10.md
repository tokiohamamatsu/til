# 2020-10

## 01

### [Laravel8の新機能！時間テストヘルパー\(タイムトラベル\)を使ってみた！ \- Qiita](https://qiita.com/ucan-lab/items/e983fec6897d85381c20)

時間テストヘルパーは実行時間によって挙動が異なるロジックのテストが行える

使用方法

```php
// 5分進む
$this->travel(5)->minutes();
$this->get($route)->assertSee('Created 5 mins ago');

// 1年先に進む
$this->travel(1)->year();
$this->get($route)->assertSee('Created 1 year ago');

// 指定された日時に移動する
$this->travelTo($user->trial_ends_at);
$this->get($route)->assertSee('Your free trial is expired');

// 未来へタイムトラベル
$this->travel(5)->milliseconds();
$this->travel(5)->seconds();
$this->travel(5)->minutes();
$this->travel(5)->hours();
$this->travel(5)->days();
$this->travel(5)->weeks();
$this->travel(5)->years();

// 過去へタイムトラベル
$this->travel(-5)->hours();

// 正確な時間に移動
$this->travelTo(now()->subHours(6));

// そして時は動き出す...(現在に戻る)
$this->travelBack();
```

CarbonのsetTestNowのラッパーだそう

もう少し早く実装してほしかった