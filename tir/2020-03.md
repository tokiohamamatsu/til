# 2020-03

## 02

### [JavaScriptオブジェクトで識別子として不正な名前のプロパティにアクセスする方法 \- Qiita](https://qiita.com/tetora1053/items/347fc7d7a99c5c5b5db5)


Javascript の識別子には英数字,$_のみを含めることができ、数字から始めてはいけないというきまりがある

オブジェクトのプロパティ名は識別子だが、内部的には文字列

文字列であれば、どのような値でも問題なく、識別子として有効である必要はない

プロパティ名は識別子として不正な内でもクオートで囲めばどんな名前でもエラーにはならないが、呼び出すときに注意が必要になる。

```js
const obj = {
  hoge: "ほげ", // 識別子として正しい名前なのでクオートで囲んでなくてもok
  "1hoge": "1ほげ", // 数字から始まっているがクオートで囲んでいるのでok
  "ho-ge": "ほーげ" // 識別子に含めることができない文字(-)が入っているがクオートで囲んでいるのでok
}
console.log(obj.hoge) // => ほげ
console.log(obj.1hoge) // エラー
console.log(obj.ho-ge) // エラー
```

識別子として、不正な名前が付けられているプロパティにドット法でアクセスしようとするとエラーになる

しかし、ブランケット記法を使う`オブジェクト名['プロパティ名']`という形でプロパティにアクセスする書き方

```js
const obj = {
  hoge: "ほげ",
  "1hoge": "1ほげ",
  "ho-ge": "ほーげ"
}
console.log(obj["1hoge"]) // => 1ほげ
console.log(obj["ho-ge"]) // => ほーげ
```

## 03

### [classインスタンスのメソッドに対して分割代入をすると、メソッド内でのthisの参照が失われるので注意 \- Qiita](https://qiita.com/abeyuya/items/698caf1c571116f6ef06)

javascript(ES6)の分割代入を利用する際に、classのメソッドを分割代入するとthisへの参照が失われて、thisにundefinedがセットされる

そのため、メソッド内でthisを参照している場合エラーになる

```js
console.log("--- test_class");

class DummyClass {
  constructor() {
    this.key = "value";
  }

  method() {
    console.log(this.key);
  }
};

const test_class = () => {
  const instance = new DummyClass();

  // これは問題ない
  instance.method();

  // これはエラーになる
  const { method } = instance;
  method();
};

test_class();
```

代入してもエラーになるがbindを使うことで動くことができる

```js
 // これはエラーになる
  const method = instance.method;
  method();

 // 動く
  const method = instance.method.bind(instance);
  method();
```

分割代入とは

```js
{a} = {a: "hoge"}
```

右辺にオブジェクト、左辺にオブジェクトのキーを書けば、値を取得できる

[js 分割代入 \{\} \- Qiita](https://qiita.com/kajirikajiri/items/e8fb8971281863401623)