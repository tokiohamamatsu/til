# 2020-05 

## 01

### [Choices\.jsをカスタマイズし、2行のセレクトボックスを作成する！ \- Qiita](https://qiita.com/tuubo/items/61bfc535062edbf50925)

Choise.jsとは軽量のセレクトボックスやテキスト入力を実装出来るスクリプト。

[Vanilla JSによる軽量なセレクトボックス、テキスト入力を実装できる「Choice\.js」 \| bl6\.jp](https://bl6.jp/web/javascript/choice-js/)

Choicesのセレクトボックスをカスタマイズ(カスタムテンプレート)する際は、callbackoncreatetemplatesの記述を変更する。

```js
const example = new Choices(element, {
  callbackOnCreateTemplates: function(template) {
    return {
      item: (classNames, data) => {
        // ここを変更する
      },
      choice: (classNames, data) => {
        // ここを変更する
      },
    };
  },
});
```

Choiseはユーザがっ選択可能な値select内の`<option></option>`に相当する。

itemは入力された値(text input)または選択された値に相当する。

2つの値をセレクトボックスに表示させる。

optionのtextとvalueはそれぞれdata.labelとdata.valueとして読み取られ、カスタムテンプレート内に書くことで、optionに設定した２つの値を表示させることが出来る。

```js
document.addEventListener('DOMContentLoaded', () => {
  new Choices('.js-choice', {
    shouldSort: false,
    callbackOnCreateTemplates: function(template) {
      return {
        item: (classNames, data) => {
          return template(`<div class="${classNames.item} ${
            data.highlighted
              ? classNames.highlightedState
              : classNames.itemSelectable
          } ${
            data.placeholder ? classNames.placeholder : ''
          }
          custom-select
          " data-item data-id="${data.id}" data-value="${data.value}" ${
            data.active ? 'aria-selected="true"' : ''
          } ${data.disabled ? 'aria-disabled="true"' : ''}>
            <span>No. ${data.value}</span>
            <span>${data.label}</span>
          </div>`);
        },
      choice: (classNames, data) => {
        return template(`
          <div class="${classNames.item} ${classNames.itemChoice} ${
          data.disabled ? classNames.itemDisabled : classNames.itemSelectable
        }
          custom-select
        " data-select-text="${this.config.itemSelectText}" data-choice ${
          data.disabled
            ? 'data-choice-disabled aria-disabled="true"'
            : 'data-choice-selectable'
        } data-id="${data.id}" data-value="${data.value}" ${
          data.groupId > 0 ? 'role="treeitem"' : 'role="option"'
        }>
            <span>No. ${data.value}</span>
            <span>${data.label}</span>
          </div>
        `);
      },
    };
  },
});
});
```

後はcssで２行のセレクトボックスが実現できる。

```css
.custom-select {
  display: flex;
  flex-direction: column;
}
```
