# 2020-07

## 01

### [【Linux】タイムゾーン\(Timezone\)の変更](https://qiita.com/azusanakano/items/b39bd22504313884a7c3)

例

現在のタイムゾーンがUTCの場合

```
# date
Thu May 31 16:25:06 UTC 2012

# strings /etc/localtime
TZif2
TZif2
UTC0
```

タイムゾーンを変更する方法

```
### オリジナルをバックアップ
cp /etc/localtime /etc/localtime.org

### タイムゾーンファイルの変更
ln -sf  /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
```

再起動時にタイムゾーンが戻らないための編集

/etc/sysconfig/clock を編集する

/etc/sysconfig/clock　のZOMEとUTCを編集する

```
ZONE="Asia/Tokyo"

UTC=false
```
※UTCの値を変更するなと公式にある　[Linux インスタンスの時刻の設定 \- Amazon Elastic Compute Cloud](https://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/set-time.html)

CentOS7だとtimedatectlコマンドで変更できる

```
$ timedatectl set-timezone Asia/Tokyo
```

## 02

### [まだまだ丸め誤差と闘わないといけない件について \- Qiita](https://qiita.com/takepan/items/b570bca083b7aed31fbe)

使用言語：PHP

Aくんが１００円を持っていて、銀行に預けると年利１%つくが、ある金額X円に達するには何年かかるかという問題

不正解のコード

```php
<?php
fscanf(STDIN, "%d", $X);
// 預金額
$money = 100;
// 利子（％）
$risoku = 1;
// 答え
$ans = 0;
while($X > $money) {
    $money += intval($money * ($risoku / 100));
    $ans++;
}
printf("%d", $ans);
```

正解のコード

```php
<?php
fscanf(STDIN, "%d", $X);
// 預金額
$money = 100;
// 答え
$ans = 0;
while($X > $money) {
    $money += intdiv($money, 100);
    $ans++;
}
printf("%d", $ans);
```

fscanfはフォーマットに基づきファイルからの入力を処理するもの



STDINは標準入力(standard input)を意味する定数

標準入力とはキーボードからの入力を意味する。

intdivは整数を割り算する

[PHP: intdiv \- Manual](https://www.php.net/manual/ja/function.intdiv.php)

不正解のコードと正解のコードは3432年後から値に差が出始める。

浮動小数点を含む演算は厄介だと思わせる記事だった