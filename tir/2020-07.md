# 2020-07

## 01

### [【Linux】タイムゾーン\(Timezone\)の変更](https://qiita.com/azusanakano/items/b39bd22504313884a7c3)

例

現在のタイムゾーンがUTCの場合

```
# date
Thu May 31 16:25:06 UTC 2012

# strings /etc/localtime
TZif2
TZif2
UTC0
```

タイムゾーンを変更する方法

```
### オリジナルをバックアップ
cp /etc/localtime /etc/localtime.org

### タイムゾーンファイルの変更
ln -sf  /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
```

再起動時にタイムゾーンが戻らないための編集

/etc/sysconfig/clock を編集する

/etc/sysconfig/clock　のZOMEとUTCを編集する

```
ZONE="Asia/Tokyo"

UTC=false
```
※UTCの値を変更するなと公式にある　[Linux インスタンスの時刻の設定 \- Amazon Elastic Compute Cloud](https://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/set-time.html)

CentOS7だとtimedatectlコマンドで変更できる

```
$ timedatectl set-timezone Asia/Tokyo
```

## 02

### [まだまだ丸め誤差と闘わないといけない件について \- Qiita](https://qiita.com/takepan/items/b570bca083b7aed31fbe)

使用言語：PHP

Aくんが１００円を持っていて、銀行に預けると年利１%つくが、ある金額X円に達するには何年かかるかという問題

不正解のコード

```php
<?php
fscanf(STDIN, "%d", $X);
// 預金額
$money = 100;
// 利子（％）
$risoku = 1;
// 答え
$ans = 0;
while($X > $money) {
    $money += intval($money * ($risoku / 100));
    $ans++;
}
printf("%d", $ans);
```

正解のコード

```php
<?php
fscanf(STDIN, "%d", $X);
// 預金額
$money = 100;
// 答え
$ans = 0;
while($X > $money) {
    $money += intdiv($money, 100);
    $ans++;
}
printf("%d", $ans);
```

fscanfはフォーマットに基づきファイルからの入力を処理するもの



STDINは標準入力(standard input)を意味する定数

標準入力とはキーボードからの入力を意味する。

intdivは整数を割り算する

[PHP: intdiv \- Manual](https://www.php.net/manual/ja/function.intdiv.php)

不正解のコードと正解のコードは3432年後から値に差が出始める。

浮動小数点を含む演算は厄介だと思わせる記事だった

## 03

### [JavaScript でサーバ上にある画像を zip でまとめてダウンロードする \- Qiita](https://qiita.com/Chrysanthemum94/items/4a5deaeee1f2a9c63181)

使用言語　Javascript

サーバー上にある画像をダウンロード

```js
const getImage = (imageUrl) => {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', imageUrl, true);
    xhr.responseType = "blob";
    xhr.onload = (e) => {
      // 取得した画像データが e.currentTarget.response にある
      resolve(e.currentTarget.response);
    };
    xhr.send();
  });
};
```

画像を取得するのにXMLHttpRequestを使う

XMLHttpRequestはサーバーと対話することができ、ページ全体更新せず、データを受け取ることができる。

[XMLHttpRequest \- Web API \| MDN](https://developer.mozilla.org/ja/docs/Web/API/XMLHttpRequest)


ダウンロードしたものをzipにまとめる

```js
const generateZip = (images) => {
  return new Promise((resolve, reject) => {
    const zip = new JSZip();
    images.forEach((imageData, i) => {
      zip.file(`image${String(i).padStart(3, '0')}`, imageData);
    });
    zip.generateAsync({ type: "blob" }).then(resolve);
  });
};
```

ダンロードしたものをzipにまとめるにはJSZipというライブラリを使う
[JSZip](https://stuk.github.io/jszip/)

blobはバイナリデータを格納する場合のデータ型、画像や音声などのマルチメディアオブジェクトがBLOBとして格納される

[バイナリ・ラージ・オブジェクト \- Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA%E3%83%BB%E3%83%A9%E3%83%BC%E3%82%B8%E3%83%BB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88)

## 06

### [LINQ とっかかりと自分が書く時に考えていることと注意点 \- Qiita](https://qiita.com/okazuki/items/16d0405ae4ac4c4eaee0)

使用言語 c#

LINQとは配列やリストに対しフィルターや射影、集計やグルーピングなどを行えるようにしてくれるメソッドの集まり。

フィルター

Whereを使いフィルターできる

```c#
var array = new[] { 1, 2, 3, 4, 5 };

// 偶数のみにフィルタリング
var evenNumbers = array.Where(x => x % 2 == 0);

// 表示
foreach (var x in evenNumbers)
{
    Console.WriteLine(x);
}
```

射影(変換)

Selectを使い変換できる

```c#
var array = new[] { 1, 2, 3, 4, 5 };

var evenNumbers = array
    .Where(x => x % 2 == 0) // 偶数のみにして
    .Select(x => x * x); // 2 乗する

// 表示
foreach (var x in evenNumbers)
{
    Console.WriteLine(x);
}
```

WhereやSelectは呼ぶだけでは処理は行わず、処理のやる予定だけ登録されている状態になる。

これらは必要なタイミングで実行され、下記の例ではforeach表示されるところまで処理が行われていない。

```c#
var array = new[] { 1, 2, 3, 4, 5 };

var evenNumbers = array
    .Where(x => 
    {
        Console.WriteLine($"{x} についてフィルタリングしています");
        return x % 2 == 0;
    }) // 偶数のみにして
    .Select(x => 
    {
        Console.WriteLine($"{x} について変換しています");
        return x * x;
    }); // 2 乗する

// 表示
Console.WriteLine("結果を表示します！！");
foreach (var x in evenNumbers)
{
    Console.WriteLine(x);
}
```

Where内部とSelect内部で表示され、"結果を表示します"の前にWhere内部とSelect内部のログが出そうなコードだが、必要なタイミングで行われるため下記のようになる。

結果

```c#
結果を表示します！！
1 についてフィルタリングしています
2 についてフィルタリングしています
2 について変換しています
4
3 についてフィルタリングしています
4 についてフィルタリングしています
4 について変換しています
16
```

しかし、LINQのメソッドは必要になるまで処理されないが、この動作のせいで予期せぬエラーになったりパフォーマンス問題に当たる事がある。

## 07

### [Vuetifyでラジオボタン（v\-radio）を横並びにする方法 \- Qiita](https://qiita.com/aki4003/items/0b36a09284a7d946e576)

VuetifyはVue.jsのマテリアルデザインコンポーネントフレームワーク

Vuetifyでラジオボタン(v-radio)を横並びにしたい

```js
<v-radio-group>
  <v-radio label="はい"           value="radio-1"></v-radio>
  <v-radio label="どちらでもない"  value="radio-2"></v-radio>
  <v-radio label="いいえ"         value="radio-3"></v-radio>
</v-radio-group>
```

普通に使った場合ラジオボタンは縦並びになる。

この記事の作者はVuetify ラジオボタン 横などで、検索していたが、情報がでなかったそう。

横並びにする方法は公式リファランスに書いており

[Selection control components — Vuetify\.js](https://vuetifyjs.com/ja/components/selection-controls/)

propsを使用し、行(row)または列(column)で選択できる。

rowを選択することで横並びにできる

```js
<v-radio-group row >
  <v-radio label="はい"           value="radio-1"></v-radio>
  <v-radio label="どちらでもない"  value="radio-2"></v-radio>
  <v-radio label="いいえ"         value="radio-3"></v-radio>
</v-radio-group>
```
